[gd_scene load_steps=14 format=3 uid="uid://cgw6rfirr30ks"]

[ext_resource type="PackedScene" uid="uid://dayfxbmtsuqrd" path="res://scenes/Rain/Rain.tscn" id="1_3xpcx"]
[ext_resource type="Texture2D" uid="uid://hb5qw0s3eac2" path="res://graphics/terrain/tilemaps/GrassTilemap.png" id="1_qesyg"]
[ext_resource type="Texture2D" uid="uid://byadn1chqmare" path="res://graphics/placeholder/Background.jpg" id="1_u5atv"]
[ext_resource type="PackedScene" uid="uid://ynsikejtex8b" path="res://scenes/character/SpellManager.tscn" id="1_xxy83"]
[ext_resource type="PackedScene" uid="uid://b45ydlouck4io" path="res://scenes/menus/spell_list/spell_list.tscn" id="2_5gk46"]
[ext_resource type="PackedScene" uid="uid://4r48f8lttmp" path="res://scenes/level/deathzone.tscn" id="2_xw1hr"]
[ext_resource type="Script" path="res://scenes/multiplayer/MultiplayerSpawner.gd" id="3_bo8on"]
[ext_resource type="PackedScene" uid="uid://cubitxapsm3h1" path="res://scenes/character/char.tscn" id="4_hlpcm"]
[ext_resource type="Script" path="res://scenes/level/GameManager.gd" id="6_rr77g"]
[ext_resource type="Script" path="res://scenes/level/Maps.gd" id="9_dvt6g"]

[sub_resource type="CanvasTexture" id="CanvasTexture_a7tux"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ewimc"]
resource_name = "GrassTilemap"
texture = ExtResource("1_qesyg")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
1:0/0 = 0
1:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:0/0/physics_layer_0/angular_velocity = 0.0
0:1/0 = 0
0:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:1/0/physics_layer_0/angular_velocity = 0.0
1:1/0 = 0
1:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:1/0/physics_layer_0/angular_velocity = 0.0
2:1/0 = 0
2:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:1/0/physics_layer_0/angular_velocity = 0.0
1:2/0 = 0
1:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:2/0/physics_layer_0/angular_velocity = 0.0
0:2/0 = 0
0:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:2/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSet" id="TileSet_3p33u"]
tile_size = Vector2i(64, 64)
physics_layer_0/collision_layer = 7
physics_layer_0/collision_mask = 7
sources/0 = SubResource("TileSetAtlasSource_ewimc")

[node name="Level" type="Node2D"]

[node name="GameManager" type="Node2D" parent="."]
z_index = 100
script = ExtResource("6_rr77g")

[node name="Timers" type="Node" parent="GameManager"]

[node name="RoundStart" type="Timer" parent="GameManager/Timers"]
wait_time = 3.0
one_shot = true

[node name="DisplayWinner" type="Timer" parent="GameManager/Timers"]
wait_time = 2.0
one_shot = true

[node name="Movement" type="Timer" parent="GameManager/Timers"]
wait_time = 2.0
one_shot = true

[node name="Cards" type="Node2D" parent="GameManager"]
z_index = 3

[node name="TimerText" type="Label" parent="GameManager"]
offset_left = 920.0
offset_top = 540.0
offset_right = 930.0
offset_bottom = 563.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 6
size_flags_vertical = 6
theme_override_font_sizes/font_size = 80
text = "3"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Dim" type="Sprite2D" parent="GameManager"]
modulate = Color(0, 0, 0, 0)
position = Vector2(960, 540)
scale = Vector2(1920, 1080)
texture = SubResource("CanvasTexture_a7tux")

[node name="SpellUI" type="Node" parent="GameManager"]

[node name="Spell List L" parent="GameManager/SpellUI" instance=ExtResource("2_5gk46")]
offset_top = 94.0
offset_bottom = -886.0
metadata/_edit_use_anchors_ = true

[node name="Spell List R" parent="GameManager/SpellUI" instance=ExtResource("2_5gk46")]
offset_left = 1460.0
offset_top = 94.0
offset_right = 0.0
offset_bottom = -886.0
metadata/_edit_use_anchors_ = true

[node name="Wincounts" type="Node2D" parent="GameManager"]
z_index = 4

[node name="Player1" type="Label" parent="GameManager/Wincounts"]
offset_top = -25.0
offset_right = 374.0
offset_bottom = 85.0
size_flags_horizontal = 6
size_flags_vertical = 6
theme_override_font_sizes/font_size = 50
text = "Player 1 wins: 0"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Player2" type="Label" parent="GameManager/Wincounts"]
offset_left = 1430.0
offset_top = -21.0
offset_right = 2025.0
offset_bottom = 89.0
size_flags_horizontal = 6
size_flags_vertical = 6
theme_override_font_sizes/font_size = 50
text = "Player 2 wins: 0"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Sky" type="Sprite2D" parent="."]
position = Vector2(959.778, 542)
scale = Vector2(1.01, 1.01481)
texture = ExtResource("1_u5atv")

[node name="Rain" parent="." instance=ExtResource("1_3xpcx")]
visible = false
z_index = 1
position = Vector2(1020, 0)
scale = Vector2(3, 3)

[node name="SpellManager" parent="." instance=ExtResource("1_xxy83")]

[node name="Deathzone" parent="." instance=ExtResource("2_xw1hr")]
position = Vector2(986, 1292)
scale = Vector2(151.166, 4)

[node name="Deathzone2" parent="." instance=ExtResource("2_xw1hr")]
position = Vector2(-276, 378)
scale = Vector2(10, 110)

[node name="Deathzone3" parent="." instance=ExtResource("2_xw1hr")]
position = Vector2(2181, 321)
scale = Vector2(10, 110)

[node name="Maps" type="Node2D" parent="."]
script = ExtResource("9_dvt6g")

[node name="1" type="TileMap" parent="Maps"]
scale = Vector2(0.8, 0.8)
tile_set = SubResource("TileSet_3p33u")
format = 2
layer_0/tile_data = PackedInt32Array(917540, 0, 1, 917539, 65536, 0, 917538, 65536, 0, 917537, 65536, 0, 917536, 65536, 1, 327687, 65536, 1, 327688, 65536, 0, 327689, 65536, 0, 327690, 0, 1, 393227, 65536, 0, 393252, 0, 0, 327716, 0, 1, 327715, 65536, 0, 393251, 0, 0, 393250, 0, 0, 327714, 65536, 1, 393249, 65536, 0, 327691, 131072, 1, 393226, 0, 0, 393225, 0, 0, 393224, 0, 0, 393223, 0, 0, 458760, 0, 0, 458761, 0, 0, 524297, 0, 0, 524298, 0, 0, 458762, 0, 0, 589834, 0, 0, 983044, 65536, 0, 983043, 65536, 1, 1048579, 0, 0, 1048580, 0, 0, 983045, 65536, 0, 983046, 0, 1, 1048582, 0, 0, 1048581, 0, 0, 1114117, 0, 0, 1114116, 0, 0, 1245189, 0, 0, 1179653, 0, 0, 1179654, 0, 0, 983073, 0, 0, 983074, 0, 0, 983075, 0, 0, 1048609, 0, 0, 1048610, 0, 0, 1048611, 0, 0, 1114146, 0, 0, 1179682, 0, 0, 1179683, 0, 0, 1114147, 0, 0, 1048612, 0, 0, 983076, 0, 0, 983077, 0, 0, 917522, 65536, 0, 983058, 0, 0, 1048594, 0, 0, 1114131, 0, 0, 1114130, 0, 0, 1179666, 0, 0, 1245202, 0, 0, 1179667, 0, 0, 1048595, 0, 0, 983059, 0, 0, 917523, 0, 1, 917521, 65536, 0, 983057, 0, 0, 1048593, 0, 0, 917520, 65536, 1, 524314, 0, 0, 589850, 0, 0, 655386, 0, 0, 720922, 0, 0, 720923, 0, 0, 786459, 0, 0, 786458, 0, 0, 851994, 0, 0, 655387, 0, 0, 589851, 0, 0, 589852, 0, 0, 524315, 65536, 0, 524316, 0, 1, 458778, 65536, 1)

[node name="SpawnPoints" type="Node2D" parent="Maps/1"]
scale = Vector2(1.25, 1.25)

[node name="0" type="Node2D" parent="Maps/1/SpawnPoints" groups=["PlayerSpawnPoint"]]
position = Vector2(249, 639)

[node name="1" type="Node2D" parent="Maps/1/SpawnPoints" groups=["PlayerSpawnPoint"]]
position = Vector2(1774, 623)

[node name="2" type="Node2D" parent="Maps/1/SpawnPoints" groups=["PlayerSpawnPoint"]]
position = Vector2(1830, 229)

[node name="3" type="Node2D" parent="Maps/1/SpawnPoints" groups=["PlayerSpawnPoint"]]
position = Vector2(458, 229)

[node name="2" type="TileMap" parent="Maps"]
visible = false
scale = Vector2(0.8, 0.8)
format = 2
layer_0/enabled = false
layer_0/tile_data = PackedInt32Array(917506, 4, 0, 917507, 4, 0, 917508, 4, 0, 917509, 4, 0, 917510, 4, 0, 655382, 4, 0, 720918, 4, 0, 720919, 4, 0, 720920, 4, 0, 720921, 4, 0, 720922, 4, 0, 655386, 4, 0, 655385, 4, 0, 655384, 4, 0, 655383, 4, 0, 655387, 65540, 2, 720923, 4, 0, 917525, 65540, 0, 983061, 4, 0, 983062, 4, 0, 917526, 65540, 0, 917527, 65540, 0, 983063, 4, 0, 917528, 4, 1, 917524, 65540, 1, 458753, 65540, 1, 524289, 4, 0, 524290, 4, 0, 458754, 65540, 0, 458755, 4, 1, 524291, 4, 0, 524292, 4, 0, 393219, 131076, 1, 524310, 131076, 1, 589846, 65540, 1, 589847, 65540, 0, 589848, 4, 1, 393227, 4, 2, 393228, 4, 0, 327692, 65540, 0, 327693, 65540, 0, 327694, 65540, 0, 327695, 65540, 0, 327696, 65540, 0, 393232, 4, 0, 393233, 65540, 2, 393231, 4, 0, 393229, 4, 0, 393230, 4, 0, 983051, 65540, 0, 983052, 65540, 0, 983053, 65540, 0, 917533, 65540, 0, 589833, 4, 0, 589834, 65540, 2, 983042, 4, 0, 983043, 4, 0, 983044, 4, 0, 983045, 4, 0, 983046, 4, 0, 983047, 4, 0, 917511, 4, 0)

[node name="SpawnPoints" type="Node2D" parent="Maps/2"]
scale = Vector2(1.25, 1.25)

[node name="0" type="Node2D" parent="Maps/2/SpawnPoints" groups=["PlayerSpawnPoint"]]
position = Vector2(247.2, 610.4)

[node name="1" type="Node2D" parent="Maps/2/SpawnPoints" groups=["PlayerSpawnPoint"]]
position = Vector2(1351.2, 419.2)

[node name="2" type="Node2D" parent="Maps/2/SpawnPoints" groups=["PlayerSpawnPoint"]]
position = Vector2(1173.6, 668.8)

[node name="3" type="Node2D" parent="Maps/2/SpawnPoints" groups=["PlayerSpawnPoint"]]
position = Vector2(142.4, 242.4)

[node name="MultiplayerSpawner" type="MultiplayerSpawner" parent="."]
spawn_path = NodePath(".")
script = ExtResource("3_bo8on")
playerScene = ExtResource("4_hlpcm")

[connection signal="timeout" from="GameManager/Timers/RoundStart" to="GameManager" method="_on_timer_timeout"]
[connection signal="timeout" from="GameManager/Timers/DisplayWinner" to="GameManager" method="_on_display_winner_timeout"]
